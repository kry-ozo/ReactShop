{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kryst\\\\Desktop\\\\work\\\\shop-app\\\\src\\\\ShopProvider.js\",\n  _s = $RefreshSig$();\nimport ShopContext from \"./shop-context\";\nimport { useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0,\n  size: []\n};\nconst shopReducer = (state, action) => {\n  if (action.type === \"ADD\") {\n    const newItem = action.item;\n    return {\n      ...state,\n      items: [...state.items, newItem]\n    };\n  } else if (action.type = \"REMOVE\") {\n    const deletedItem = action.id;\n    const newItems = state.items.filter(item => {\n      return item.id !== deletedItem;\n    });\n    return {\n      ...state,\n      items: [...newItems]\n    };\n  }\n};\nconst countTotal = items => {\n  if (items.length) {\n    let total = 0;\n    items.map(item => {\n      total += Number(item.productPrice);\n    });\n    return total;\n  } else {\n    return 0;\n  }\n};\nconst ShopProvider = props => {\n  _s();\n  const [shopState, dispatchShopAction] = useReducer(shopReducer, defaultCartState);\n  const addItemToCart = item => {\n    dispatchShopAction({\n      type: \"ADD\",\n      item\n    });\n  };\n  const removeItemFromCart = id => {\n    dispatchShopAction({\n      type: \"REMOVE\",\n      id\n    });\n  };\n  const setSize = size => {\n    dispatchShopAction({\n      type: \"\"\n    });\n  };\n  const shopContext = {\n    items: shopState.items,\n    totalAmount: countTotal(shopState.items),\n    itemsAmount: shopState.items.length,\n    addItem: addItemToCart,\n    removeItem: removeItemFromCart,\n    setSize: setSize,\n    size: shopState.size\n  };\n  return /*#__PURE__*/_jsxDEV(ShopContext.Provider, {\n    value: shopContext,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 12\n  }, this);\n};\n_s(ShopProvider, \"7ddfq7ih+HdgErGIuq8xMDrUdAQ=\");\n_c = ShopProvider;\nexport default ShopProvider;\nvar _c;\n$RefreshReg$(_c, \"ShopProvider\");","map":{"version":3,"names":["ShopContext","useReducer","jsxDEV","_jsxDEV","defaultCartState","items","totalAmount","size","shopReducer","state","action","type","newItem","item","deletedItem","id","newItems","filter","countTotal","length","total","map","Number","productPrice","ShopProvider","props","_s","shopState","dispatchShopAction","addItemToCart","removeItemFromCart","setSize","shopContext","itemsAmount","addItem","removeItem","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/kryst/Desktop/work/shop-app/src/ShopProvider.js"],"sourcesContent":["import ShopContext from \"./shop-context\"\r\nimport { useReducer } from \"react\"\r\n\r\nconst defaultCartState = {\r\n    items: [],\r\n    totalAmount: 0,\r\n    size: []\r\n}\r\n\r\nconst shopReducer = (state, action)=>{\r\n    if(action.type ===\"ADD\"){ \r\n        const newItem  = action.item  \r\n       return {...state, items: [...state.items, newItem]} \r\n    }else if(action.type = \"REMOVE\"){\r\n        const deletedItem = action.id \r\n        const newItems = state.items.filter((item)=>{\r\n            return item.id !== deletedItem\r\n        })\r\n        return {...state, items: [...newItems]}\r\n        \r\n        \r\n        \r\n    }\r\n}\r\n\r\nconst countTotal=(items)=>{\r\n    if(items.length){\r\n        let total = 0\r\n        items.map(item=>{\r\n            total += Number(item.productPrice)\r\n        })\r\n        return total\r\n    }else{\r\n        return 0 \r\n    }\r\n    \r\n}\r\n\r\nconst ShopProvider = props=>{\r\n    const [shopState, dispatchShopAction]=useReducer(shopReducer, defaultCartState)\r\n    const addItemToCart = item=>{\r\n        dispatchShopAction({type: \"ADD\", item})\r\n    }\r\n    const removeItemFromCart = id=>{\r\n        dispatchShopAction({type: \"REMOVE\", id})\r\n    }\r\n    const setSize = (size)=>{\r\n        dispatchShopAction({type: \"\"})\r\n    }\r\n    const shopContext ={\r\n        items:shopState.items,\r\n        totalAmount: countTotal(shopState.items),\r\n        itemsAmount: shopState.items.length,\r\n        addItem: addItemToCart,\r\n        removeItem: removeItemFromCart,\r\n        setSize: setSize,\r\n        size: shopState.size\r\n    }\r\n    return <ShopContext.Provider value={shopContext}>\r\n        {props.children}\r\n    </ShopContext.Provider>\r\n}\r\n\r\nexport default ShopProvider"],"mappings":";;AAAA,OAAOA,WAAW,MAAM,gBAAgB;AACxC,SAASC,UAAU,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,gBAAgB,GAAG;EACrBC,KAAK,EAAE,EAAE;EACTC,WAAW,EAAE,CAAC;EACdC,IAAI,EAAE;AACV,CAAC;AAED,MAAMC,WAAW,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAG;EACjC,IAAGA,MAAM,CAACC,IAAI,KAAI,KAAK,EAAC;IACpB,MAAMC,OAAO,GAAIF,MAAM,CAACG,IAAI;IAC7B,OAAO;MAAC,GAAGJ,KAAK;MAAEJ,KAAK,EAAE,CAAC,GAAGI,KAAK,CAACJ,KAAK,EAAEO,OAAO;IAAC,CAAC;EACtD,CAAC,MAAK,IAAGF,MAAM,CAACC,IAAI,GAAG,QAAQ,EAAC;IAC5B,MAAMG,WAAW,GAAGJ,MAAM,CAACK,EAAE;IAC7B,MAAMC,QAAQ,GAAGP,KAAK,CAACJ,KAAK,CAACY,MAAM,CAAEJ,IAAI,IAAG;MACxC,OAAOA,IAAI,CAACE,EAAE,KAAKD,WAAW;IAClC,CAAC,CAAC;IACF,OAAO;MAAC,GAAGL,KAAK;MAAEJ,KAAK,EAAE,CAAC,GAAGW,QAAQ;IAAC,CAAC;EAI3C;AACJ,CAAC;AAED,MAAME,UAAU,GAAEb,KAAK,IAAG;EACtB,IAAGA,KAAK,CAACc,MAAM,EAAC;IACZ,IAAIC,KAAK,GAAG,CAAC;IACbf,KAAK,CAACgB,GAAG,CAACR,IAAI,IAAE;MACZO,KAAK,IAAIE,MAAM,CAACT,IAAI,CAACU,YAAY,CAAC;IACtC,CAAC,CAAC;IACF,OAAOH,KAAK;EAChB,CAAC,MAAI;IACD,OAAO,CAAC;EACZ;AAEJ,CAAC;AAED,MAAMI,YAAY,GAAGC,KAAK,IAAE;EAAAC,EAAA;EACxB,MAAM,CAACC,SAAS,EAAEC,kBAAkB,CAAC,GAAC3B,UAAU,CAACO,WAAW,EAAEJ,gBAAgB,CAAC;EAC/E,MAAMyB,aAAa,GAAGhB,IAAI,IAAE;IACxBe,kBAAkB,CAAC;MAACjB,IAAI,EAAE,KAAK;MAAEE;IAAI,CAAC,CAAC;EAC3C,CAAC;EACD,MAAMiB,kBAAkB,GAAGf,EAAE,IAAE;IAC3Ba,kBAAkB,CAAC;MAACjB,IAAI,EAAE,QAAQ;MAAEI;IAAE,CAAC,CAAC;EAC5C,CAAC;EACD,MAAMgB,OAAO,GAAIxB,IAAI,IAAG;IACpBqB,kBAAkB,CAAC;MAACjB,IAAI,EAAE;IAAE,CAAC,CAAC;EAClC,CAAC;EACD,MAAMqB,WAAW,GAAE;IACf3B,KAAK,EAACsB,SAAS,CAACtB,KAAK;IACrBC,WAAW,EAAEY,UAAU,CAACS,SAAS,CAACtB,KAAK,CAAC;IACxC4B,WAAW,EAAEN,SAAS,CAACtB,KAAK,CAACc,MAAM;IACnCe,OAAO,EAAEL,aAAa;IACtBM,UAAU,EAAEL,kBAAkB;IAC9BC,OAAO,EAAEA,OAAO;IAChBxB,IAAI,EAAEoB,SAAS,CAACpB;EACpB,CAAC;EACD,oBAAOJ,OAAA,CAACH,WAAW,CAACoC,QAAQ;IAACC,KAAK,EAAEL,WAAY;IAAAM,QAAA,EAC3Cb,KAAK,CAACa;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACI;AAC3B,CAAC;AAAAhB,EAAA,CAvBKF,YAAY;AAAAmB,EAAA,GAAZnB,YAAY;AAyBlB,eAAeA,YAAY;AAAA,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}